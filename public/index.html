<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Art Culinaire AI.. | Sooban Talha Productions</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ====== ROOT VARIABLES ====== */
        :root {
            --primary: #8e6c49;
            --secondary: #c9a87a;
            --accent: #d4af37;
            --dark: #0a0a0a;
            --darker: #050505;
            --light: #e0e0e0;
            --gradient-start: #8e6c49;
            --gradient-mid: #c9a87a;
            --gradient-end: #d4af37;
            --gold-light: #f8e6c3;
            --gold-dark: #b89446;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Montserrat', sans-serif; }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* ====== HEADER ====== */
        header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }
        .header-content { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        .logo { display: flex; align-items: center; gap: 15px; }
        .logo h1 {
            font-family: 'Cinzel', serif;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--gold-light), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        .logo-icon { font-size: 32px; background: linear-gradient(45deg, var(--gold-light), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .logo-subtext { font-size: 10px; color: var(--secondary); letter-spacing: 3px; margin-left: 5px; text-transform: uppercase; }
        .company-name { font-family: 'Cinzel', serif; font-size: 14px; color: var(--accent); margin-top: 5px; letter-spacing: 2px; }
        nav ul { display: flex; list-style: none; gap: 30px; flex-wrap: wrap; }
        nav a { color: var(--light); text-decoration: none; font-weight: 500; transition: all 0.3s ease; position: relative; font-size: 15px; letter-spacing: 1px; }
        nav a:hover { color: var(--accent); }
        nav a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px; background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end)); transition: width 0.3s ease; }
        nav a:hover::after { width: 100%; }

        /* ====== HERO ====== */
        .hero { text-align: center; padding: 100px 20px; background: rgba(255, 255, 255, 0.02); border-radius: 20px; margin: 40px 0; position: relative; overflow: hidden; border: 1px solid rgba(212, 175, 55, 0.1); }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at top right, rgba(142,108,73,0.1), transparent 40%), radial-gradient(circle at bottom left, rgba(212,175,55,0.1), transparent 40%); z-index: -1; }
        .hero h2 { font-family: 'Cinzel', serif; font-size: 52px; margin-bottom: 20px; background: linear-gradient(45deg, var(--gold-light), var(--accent), var(--gold-dark)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 0 30px rgba(212, 175, 55, 0.3); }
        .hero p { font-size: 20px; max-width: 700px; margin: 0 auto 40px; color: #ccc; font-weight: 300; letter-spacing: 0.5px; }
        .cta-button { background: linear-gradient(45deg, var(--gradient-start), var(--gradient-end)); color: var(--darker); border: none; padding: 18px 45px; font-size: 16px; border-radius: 2px; cursor: pointer; transition: all 0.3s ease; font-weight: 600; box-shadow: 0 10px 30px rgba(142,108,73,0.4); letter-spacing: 1.5px; text-transform: uppercase; position: relative; overflow: hidden; }
        .cta-button:before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: 0.5s; }
        .cta-button:hover:before { left: 100%; }
        .cta-button:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(142,108,73,0.5); }

        /* ====== GOLD DIVIDER ====== */
        .gold-divider { height: 1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); margin: 40px auto; width: 80%; }

        /* ====== WELCOME ====== */
        .welcome-message { text-align: center; padding: 30px; background: rgba(142,108,73,0.1); border-radius: 4px; margin: 20px 0; border: 1px solid rgba(212,175,55,0.1); position: relative; }
        .welcome-message:before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); }
        .welcome-message h3 { font-family: 'Cinzel', serif; margin-bottom: 15px; background: linear-gradient(45deg, var(--gold-light), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* ====== CHAT ====== */
        .chat-container { background: rgba(15,15,15,0.7); border-radius: 4px; overflow: hidden; margin: 40px auto; max-width: 1000px; box-shadow: 0 10px 40px rgba(0,0,0,0.4); border: 1px solid rgba(212,175,55,0.15); position: relative; }
        .chat-header { background: rgba(0,0,0,0.3); padding: 20px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid rgba(212,175,55,0.1); }
        .chat-header h2 { font-size: 20px; font-family: 'Cinzel', serif; background: linear-gradient(45deg, var(--gold-light), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .chat-messages { height: 500px; overflow-y: auto; padding: 25px; background: rgba(10,10,10,0.5); }
        .message { margin-bottom: 25px; max-width: 80%; padding: 20px; border-radius: 4px; position: relative; font-size: 15px; }
        .message.user { background: rgba(142,108,73,0.15); margin-left: auto; color: var(--light); }
        .message.ai { background: rgba(212,175,55,0.15); color: var(--light); }
        .chat-input { display: flex; gap: 15px; padding: 20px; border-top: 1px solid rgba(212,175,55,0.1); }
        .chat-input input { flex: 1; padding: 15px; border-radius: 4px; border: none; font-size: 15px; background: rgba(0,0,0,0.2); color: var(--light); outline: none; }
        .chat-input button { background: var(--accent); color: var(--dark); border: none; padding: 15px 25px; font-size: 15px; font-weight: 600; border-radius: 4px; cursor: pointer; transition: all 0.3s ease; }
        .chat-input button:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(212,175,55,0.4); }

        /* ====== RECIPE CARD ====== */
        .recipe-card { background: rgba(20, 20, 20, 0.7); border-radius: 8px; padding: 20px; margin: 15px 0; border: 1px solid rgba(212, 175, 55, 0.2); }
        .recipe-name { font-family: 'Cinzel', serif; font-size: 24px; color: var(--accent); margin-bottom: 10px; }
        .recipe-section { margin: 15px 0; }
        .recipe-section h4 { font-family: 'Playfair Display', serif; color: var(--gold-light); margin-bottom: 8px; font-size: 18px; }
        .recipe-list { padding-left: 20px; }
        .recipe-list li { margin-bottom: 8px; }
        .recipe-score { font-style: italic; color: var(--secondary); text-align: right; margin-top: 15px; }

        /* ====== SPINNER ====== */
        .spinner { display: inline-block; width: 16px; height: 16px; border: 2px solid rgba(212,175,55,0.3); border-top-color: var(--accent); border-radius: 50%; animation: spin 1s linear infinite; margin-left: 10px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ====== ERROR MESSAGE ====== */
        .error-message { color: #ff4c4c; text-align: center; margin-top: 10px; font-weight: 500; }

        /* ====== RESPONSIVE DESIGN ====== */
        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 15px; }
            nav ul { gap: 15px; justify-content: center; }
            .hero h2 { font-size: 36px; }
            .hero p { font-size: 16px; }
            .chat-messages { height: 400px; }
            .message { max-width: 90%; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-utensils logo-icon"></i>
                <h1>L'Art Culinaire</h1>
                <span class="logo-subtext">VIP FRENCH STYLE</span>
            </div>
            <div class="company-name">Sooban Talha Productions Pvt Ltd</div>
            <nav>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#recipes">Recipes</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">
        <section class="hero" id="home">
            <h2>Welcome to L'Art Culinaire AI</h2>
            <p>Experience ultra-luxury French-style recipes, created with elegance, precision, and AI intelligence. Your VIP culinary journey starts here.</p>
            <button class="cta-button" id="createRecipeBtn">Create Recipe</button>
        </section>

        <div class="gold-divider"></div>

        <section class="welcome-message">
            <h3>Bonjour, Chef!</h3>
            <p>Type your ingredients or style preference, hit "Create Recipe", and witness your personalized gourmet recipe come alive. Only the finest culinary AI experience.</p>
        </section>

        <div class="chat-container" id="recipes">
            <div class="chat-header">
                <h2>Recipe AI Chat</h2>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai">
                    <strong>Bonjour, Chef!</strong> I am your AI culinary assistant, specialized in French haute cuisine. 
                    Tell me what ingredients you have or what type of dish you'd like to create, and I'll craft an exquisite recipe for you.
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Enter ingredients or recipe style..." />
                <button id="sendBtn">Send</button>
            </div>
            <div class="error-message" id="errorMessage"></div>
        </div>
    </div>

    <script>
        const API_ENDPOINT = '/api/recipe';
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const createRecipeBtn = document.getElementById('createRecipeBtn');
        const errorMessage = document.getElementById('errorMessage');

        function appendMessage(message, type="ai") {
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('message', type);
            
            if (type === "ai" && typeof message === "object") {
                // Format recipe as a card
                const recipe = message;
                msgDiv.innerHTML = `
                    <div class="recipe-card">
                        <div class="recipe-name">${recipe.name}</div>
                        <div class="recipe-section">
                            <h4>Ingredients</h4>
                            <ul class="recipe-list">
                                ${recipe.ingredients.map(ing => `<li>${ing}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="recipe-section">
                            <h4>Instructions</h4>
                            <ol class="recipe-list">
                                ${recipe.instructions.map(step => `<li>${step}</li>`).join('')}
                            </ol>
                        </div>
                        <div class="recipe-section">
                            <h4>Chef's Tips</h4>
                            <ul class="recipe-list">
                                ${recipe.tips.map(tip => `<li>${tip}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="recipe-score">Culinary Excellence Score: ${recipe.score}/100</div>
                    </div>
                `;
            } else {
                msgDiv.innerHTML = message;
            }
            
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function fetchRecipe(input) {
            try {
                errorMessage.textContent = "";
                appendMessage('<span>Creating your gourmet recipe <span class="spinner"></span></span>', 'ai');
                
                const res = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ message: input })
                });
                
                const data = await res.json();
                
                chatMessages.lastChild.remove(); // Remove spinner
                if(data && data.recipe) {
                    appendMessage(data.recipe, "ai");
                } else {
                    chatMessages.lastChild.remove();
                    errorMessage.textContent = "Failed to generate recipe. Please try again.";
                }
            } catch(err) {
                chatMessages.lastChild.remove();
                errorMessage.textContent = "An error occurred. Please try again.";
                console.error(err);
            }
        }

        sendBtn.addEventListener('click', () => {
            const input = chatInput.value.trim();
            if(!input) return;
            appendMessage(input, "user");
            chatInput.value = "";
            fetchRecipe(input);
        });

        chatInput.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') sendBtn.click();
        });

        createRecipeBtn.addEventListener('click', () => {
            const input = chatInput.value.trim() || "French luxury style recipe";
            appendMessage(input, "user");
            chatInput.value = "";
            fetchRecipe(input);
        });
    </script>
</body>
</html>